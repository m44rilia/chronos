<!DOCTYPE html>  
<html>
  <head> 
  
    <meta charset="utf-8"> 
    <title>Rubik's Cube Slice Rotation - Single Cubelet Version</title> <!-- Î¤Î¯Ï„Î»Î¿Ï‚ Ï„Î·Ï‚ ÏƒÎµÎ»Î¯Î´Î±Ï‚ ÏƒÏ„Î·Î½ ÎºÎ±ÏÏ„Î­Î»Î± Ï„Î¿Ï… browser -->
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script> <!-- Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ Ï„Î· Î²Î¹Î²Î»Î¹Î¿Î¸Î®ÎºÎ· A-Frame Î³Î¹Î± 3D Î³ÏÎ±Ï†Î¹ÎºÎ¬ -->
	
    <style>
      /* Î£Ï„Ï…Î» Î³Î¹Î± Ï„Î¿ Î¼ÎµÎ½Î¿Ï Ï„Î¿Ï… Rubik's Cube */
      #rubiks-menu {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 9999;
        background: rgba(20,20,20,0.92);
        padding: 18px;
        border-radius: 14px;
        box-shadow: 0 6px 22px rgba(0,0,0,0.55);
        font-family: 'Segoe UI', sans-serif;
        width: 340px;
        color: #eee;
        backdrop-filter: blur(4px);
      }

      #rubiks-menu h2 {
        margin: 0 0 10px 0;
        font-size: 16px;
        text-align: center;
        color: #fff;
        font-weight: 700;
      }

      .group-title {
        margin-top: 16px;
        font-size: 13px;
        font-weight: 700;
        color: #ddd;
        border-left: 4px solid #4a90e2;
        padding-left: 6px;
        margin-bottom: 6px;
      }

      .button-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
        margin-bottom: 14px;
      }

      /* Î£Ï„Ï…Î» Î³Î¹Î± Ï„Î± ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ */
      #rubiks-menu button {
        padding: 6px 0;
        border-radius: 8px;
        border: none;
        background-color: #0d6efd;
        color: white;
        font-weight: 600;
        cursor: pointer;
        font-size: 12px;
        transition: 0.2s;
        box-shadow: 0 2px 6px rgba(0,0,0,0.4);
      }

      #rubiks-menu button:hover {
        background-color: #0a58ca;
        transform: scale(1.07);
      }

      /* ÎŸÏÎ¯Î¶ÎµÎ¹ ÏÏˆÎ¿Ï‚ ÎºÎ±Î¹ Ï€Î»Î¬Ï„Î¿Ï‚ ÏƒÎºÎ·Î½Î®Ï‚ ÏÏƒÏ„Îµ Î½Î± ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ‰ÏƒÏ„Î¬ Î· A-Frame */
      html, body, a-scene {
        width: 100%;
        height: 100%;
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>
  
  <body>    
    <div id="rubiks-menu">   <!-- Ï„Î¿ Î¼ÎµÎ½Î¿Ï ÎµÎ»Î­Î³Ï‡Î¿Ï… Ï„Î¿Ï… Rubik's Cube -->
	<button onclick="shuffleCube()">ğŸ”€ Shuffle</button><br><br>    <!-- ÎšÎ¿Ï…Î¼Ï€Î¯ Î³Î¹Î± Ï„Ï…Ï‡Î±Î¹Î± Î±Î½Î±ÎºÎ±Ï„Î­Î¼Î±Ï„Î± Ï„Î¿Ï… ÎºÏÎ²Î¿Ï…, ÎºÎ±Î»ÎµÎ¯ Ï„Î· ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· shuffleCube() --> 
	<button onclick="resetCube()">ğŸ”„ Reset Cube</button>   <!-- ÎšÎ¿Ï…Î¼Ï€Î¯ Î³Î¹Î± ÎµÏ€Î±Î½Î±Ï†Î¿ÏÎ¬ ÎºÏÎ²Î¿Ï… ÏƒÏ„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·, ÎºÎ±Î»ÎµÎ¯ Ï„Î·Î½ resetCube() -->
	<button onclick="solveCube()">âœ” Solve Cube</button><br><br>   <!-- ÎšÎ¿Ï…Î¼Ï€ Î³Î¹Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÏ€Î¯Î»Ï…ÏƒÎ· ÎºÏÎ²Î¿Ï…, ÎºÎ±Î»ÎµÎ¯ Ï„Î·Î½ solveCube() -->
      <b>Rotate Slice (grouped, centered):</b><br>    <!--Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„ÏÏÏƒÎµÏ‰Î½ ÎºÏÎ²Î¿Ï… -->
	  <!-- Î¬Î¾Î¿Î½Î±Ï‚ y-->
      <button onclick="rotateSlice('U')">U (Top, y=3)</button>     <!-- Î ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï€Î¬Î½Ï‰ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
	  <button onclick="rotateSlice('U1')">U1 (Reverse_Top, y=3)</button>  <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï€Î¬Î½Ï‰ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
	  <button onclick="rotateSlice('M')">M (Middle, y=2)</button>   <!-- ÎšÎµÎ½Ï„ÏÎ¹ÎºÎ® Î¿ÏÎ¹Î¶ÏŒÎ½Ï„Î¹Î± ÏƒÏ„ÏÏÏƒÎ· -->
	  <button onclick="rotateSlice('M_1')">M_1 (Reverse_Middle, y=2)</button>    <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎºÎµÎ½Ï„ÏÎ¹ÎºÎ®Ï‚ Î¿ÏÎ¹Î¶ÏŒÎ½Ï„Î¹Î±Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
      <button onclick="rotateSlice('D')">D (Bottom, y=1)</button>   <!-- ÎšÎ¬Ï„Ï‰ ÏƒÏ„ÏÏÏƒÎ· ÎºÏÎ²Î¿Ï… -->
	  <button onclick="rotateSlice('D1')">D1 (Reverse_Bottom, y=1)</button>    <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎºÎ¬Ï„Ï‰ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
      <!-- Î¬Î¾Î¿Î½Î±Ï‚ x-->
 	  <button onclick="rotateSlice('L')">L (Left, x=-1)</button>    <!-- Î‘ÏÎ¹ÏƒÏ„ÎµÏÎ® ÎºÎ¬Î¸ÎµÏ„Î· ÏƒÏ„ÏÏÏƒÎ· -->
	  <button onclick="rotateSlice('L1')">L1 (Reverse_Left, x=-1)</button>    <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î±ÏÎ¹ÏƒÏ„ÎµÏÎ®Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
	  <button onclick="rotateSlice('M1')">M1 (Middle1, x=0)</button>  <!-- ÎšÎµÎ½Ï„ÏÎ¹ÎºÎ® ÎºÎ¬Î¸ÎµÏ„Î· ÏƒÏ„ÏÏÏƒÎ· -->
	  <button onclick="rotateSlice('M1_1')">M1_1 (Reverse_Middle1, x=0)</button>    <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎºÎµÎ½Ï„ÏÎ¹ÎºÎ®Ï‚ ÎºÎ¬Î¸ÎµÏ„Î·Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
      <button onclick="rotateSlice('R')">R (Right, x=1)</button>    <!-- Î”ÎµÎ¾Î¹Î¬ ÎºÎ¬Î¸ÎµÏ„Î· ÏƒÏ„ÏÏÏƒÎ· -->
	  <button onclick="rotateSlice('R1')">R1 (Reverse_Right, x=1)</button>   <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î´ÎµÎ¾Î¹Î¬Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
       <!-- Î¬Î¾Î¿Î½Î±Ï‚ z-->
	  <button onclick="rotateSlice('F')">F (Front, z=-2)</button>  <!-- ÎœÏ€ÏÎ¿ÏƒÏ„Î¹Î½Î® ÏƒÏ„ÏÏÏƒÎ· ÎºÏÎ²Î¿Ï… -->
	  <button onclick="rotateSlice('F1')">F1 (Reverse_Front, z=-2)</button>   <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î¼Ï€ÏÎ¿ÏƒÏ„Î¹Î½Î®Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
	  <button onclick="rotateSlice('M2')">M2 (Middle2, z=-3)</button>    <!-- ÎšÎµÎ½Ï„ÏÎ¹ÎºÎ® ÏƒÏ„ÏÏÏƒÎ· -->
	  <button onclick="rotateSlice('M2_1')">M2_1 (Reverse_Middle2, z=-3)</button>   <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎºÎµÎ½Ï„ÏÎ¹ÎºÎ®Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚ ÎºÎ±Ï„Î¬ z -->
      <button onclick="rotateSlice('B')">B (Back, z=-4)</button>    <!-- Î Î¯ÏƒÏ‰ ÏƒÏ„ÏÏÏƒÎ· ÎºÏÎ²Î¿Ï… -->
	  <button onclick="rotateSlice('B1')">B1 (Reverse_Back, z=-4)</button>    <!-- Î‘Î½Ï„Î¯Î¸ÎµÏ„Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï€Î¯ÏƒÏ‰ ÏƒÏ„ÏÏÏƒÎ·Ï‚ -->
	  
    </div>  
	
    <a-scene stats>   <!-- Î‘ÏÏ‡Î® Ï„Î·Ï‚ A-Frame 3D ÏƒÎºÎ·Î½Î®Ï‚, Ï„Î¿ stats ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÎ¹ FPS ÎºÎ±Î¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Î±Ï€ÏŒÎ´Î¿ÏƒÎ·Ï‚ -->
       <a-assets>   
        <a-asset-item id="cube-model" src="https://kostasgian21.github.io/computer_graphics/rubiks_cube_standard_solid_v3.glb"></a-asset-item>      <!-- Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ 3D Î¼Î¿Î½Ï„Î­Î»Î¿ Ï„Î¿Ï… ÎºÏÎ²Î¿Ï… -->
        <img id="skyTexture" src="https://raw.githubusercontent.com/m44rilia/chronos/main/image.jpg" crossorigin="anonymous"/>       <!-- Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ ÎµÎ¹ÎºÏŒÎ½Î± Î³Î¹Î± Ï„Î¿ background Ï„Î·Ï‚ ÏƒÎºÎ·Î½Î®Ï‚  -->
		<a-asset-item id="ghost" src="https://raw.githubusercontent.com/m44rilia/chronos/main/ghost.glb"></a-asset-item>      <!-- Î¦Î¿ÏÏ„ÏÎ½ÎµÎ¹ 3D Î¼Î¿Î½Ï„Î­Î»Î¿ Ï†Î±Î½Ï„Î¬ÏƒÎ¼Î±Ï„Î¿Ï‚  -->
      </a-assets>
      <a-sky src="#skyTexture"></a-sky>    <!-- ÎŸÏÎ¯Î¶ÎµÎ¹ Ï„Î¿Î½ Î¿Ï…ÏÎ±Î½ÏŒ Ï„Î·Ï‚ ÏƒÎºÎ·Î½Î®Ï‚ Î¼Îµ Ï„Î·Î½ ÎµÎ¹ÎºÏŒÎ½Î± Ï€Î¿Ï… Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ ÏƒÏ„Î¿ skyTexture -->
	   <!-- Ï†Ï‰Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Î³Î¹Î± Ï„Î·Î½ 3D ÏƒÎºÎ·Î½Î® -->
      <a-entity light="type: directional; intensity: 8; color:#ffffff" position="5 10 5" rotation="-45 45 0"></a-entity>   
      <a-entity light="type: ambient; intensity: 3; color:#ffffff"></a-entity>   
      <a-entity light="type: point; intensity:5; distance:10; decay:2" position="3 3 3"></a-entity>   
      <a-entity light="type: point; intensity:5; distance:10; decay:2" position="-3 3 3"></a-entity>   
      <a-entity light="type: directional; intensity:2; color:#ffffff" position="-5 5 -5"></a-entity>  
     
      <a-entity id="cube-cluster"></a-entity>  
	  
	  /* ÎœÎ­Î³ÎµÎ¸Î¿Ï‚, Î¸Î­ÏƒÎ· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î³Î¹Î± Ï„Î¿ Ï†Î±Î½Ï„Î±ÏƒÎ¼Î±Ï„Î¬ÎºÎ¹ Ï€Î¿Ï… ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÎµÏ„Î±Î¹ ÏƒÏ„Î·Î½ Î¿Î¸ÏŒÎ½Î·*/
	  <a-entity 
       gltf-model="#ghost"  
       position="6.5 -3 -3"    
       scale="15 15 15"  
       rotation="0 -45 0">   
      </a-entity>  
	
	/* Î§ÏÏÎ¼Î±, Î¸Î­ÏƒÎ· ÎºÏ„Î»Ï€ Î³Î¹Î± Ï„Î¿ ÏŒÎ½Î¿Î¼Î± Ï€Î¿Ï… ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î·Î½ Î¿Î¸ÏŒÎ½Î·*/
	<a-text 
        value="Marilia"  
        position="0 0.6 0"  
        color="#ffeb3b"  
        scale="2 2 2"  
        align="center" 
        side="double"  
    ></a-text> 
    </a-scene>  

    <script>  
	let isRotating = false;  // Î­Î»ÎµÎ³Ï‡Î¿Ïƒ Î±Î½ ÎºÎ¬Ï€Î¿Î¹Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„Î¿Ï… ÎºÏÎ²Î¿Ï… ÎµÎ¯Î½Î±Î¹ ÏƒÎµ ÎµÎ¾Î­Î»Î¹Î¾Î· 
    // Ï€Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿Î¹ Î³Î¹Î± Ï„Î¿Î½ ÎºÏÎ²Î¿
    const positions = [-1, 0, 1]; // Î˜Î­ÏƒÎµÎ¹Ï‚ Ï„Ï‰Î½ cubelets ÎºÎ±Ï„Î¬ Ï„Î¿Ï…Ï‚ x ÎºÎ±Î¹ y Î¬Î¾Î¿Î½ÎµÏ‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ ÏƒÏ„ÏÏÏƒÎ·  
    const layersY = [1, 2, 3];     // Î¤Î¹Î¼Î­Ï‚ y Î³Î¹Î± Ï„Î¹Ï‚ Î¿ÏÎ¹Î¶ÏŒÎ½Ï„Î¹ÎµÏ‚ ÏƒÏ„ÏÏÏƒÎµÎ¹Ï‚ 
    const layersZ = [-2, -3, -4];  // Î¤Î¹Î¼Î­Ï‚ z Î³Î¹Î± Ï„Î¹Ï‚ ÎºÎ¬Î¸ÎµÏ„ÎµÏ‚ ÏƒÏ„ÏÏÏƒÎµÎ¹Ï‚ 
    const cubeSize = 0.8; // ÎœÎ­Î³ÎµÎ¸Î¿Ï‚ ÎºÏÎ²Î¿Ï…(ÎºÎ±Î¸Îµ ÎºÏ…Î²Î±ÎºÎ¯Î¿Ï… Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬)
    const model = '#cube-model'; // GLB 3D Î¼Î¿Î½Ï„Î­Î»Î¿ Ï„Î¿Ï… cube Ï€Î¿Ï… Ï†Î¿ÏÏ„ÏÎ¸Î·ÎºÎµ 

//Ï€Î»ÎµÏ…ÏÎ­Ï‚ ÎºÏÎ²Î¿Ï…
    const sliceDefs = {
	  // y axis
	  // gia y = 3
      U:   {center: [0,3,-3], match: (x,y,z) => y===3, axis: 'y', angle: 90},      // Top row
      U1:  {center:[0,3,-3], match:(x,y,z)=>y===3, axis:'y', angle:-90},          // anapoda top row
	  
      // gia y = 2
	  M: {center: [0,2,-3],  match: (x,y,z) => y===2, axis: 'y', angle: 90},      // Middle horizontal slice
	  M_1: {center: [0,2,-3],  match: (x,y,z) => y===2, axis: 'y', angle:-90},      // reverse Middle horizontal slice
	
	  // gia y = 1
      D:  {center: [0,1,-3],  match: (x,y,z) => y===1, axis: 'y', angle: 90},     // Bottom row
	  D1:  {center: [0,1,-3],  match: (x,y,z) => y===1, axis: 'y', angle: -90},     // reverse Bottom row
	  
	  // x axis
	  // gia x = -1
      L:  {center: [-1,2,-3], match: (x,y,z) => x===-1, axis: 'x', angle: 90},    // Left column
	  L1:  {center: [-1,2,-3], match: (x,y,z) => x===-1, axis: 'x', angle: -90},    // Reverse Left column
	  
	  // gia x = 0
	  M1:  {center: [0,2,-3], match: (x,y,z) => x===0, axis: 'x', angle: 90},    // Middle column
	  M1_1:  {center: [0,2,-3], match: (x,y,z) => x===0, axis: 'x', angle: -90},    // Reverse Middle column
	  
	  // gia x = 1
      R:  {center: [1,2,-3],  match: (x,y,z) => x===1, axis: 'x', angle: 90},      // Right column
	  R1:  {center: [1,2,-3],  match: (x,y,z) => x===1, axis: 'x', angle: -90},      // Reverse Right column
	  
	  // z axis
	  // gia z = -2
      F:  {center: [0,2,-2],  match: (x,y,z) => z===-2, axis: 'z', angle: 90},     // Front slice
	  F1:  {center: [0,2,-2],  match: (x,y,z) => z===-2, axis: 'z', angle: -90},     // Reverse Front slice
	  
	  // gia z = -3
	  M2:  {center: [0,2,-3],  match: (x,y,z) => z===-3, axis: 'z', angle: 90},     // Middle slice
	  M2_1:  {center: [0,2,-3],  match: (x,y,z) => z===-3, axis: 'z', angle: -90},     //Reverse Middle slice
	  
	  // gia z = -4
      B:  {center: [0,2,-4],  match: (x,y,z) => z===-4, axis: 'z', angle: 90},    // Back slice
	  B1:  {center: [0,2,-4],  match: (x,y,z) => z===-4, axis: 'z', angle: -90},    // Reverse Back slice
    };
	const oppositeMove = { //ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î±Î½Ï„Î¯Î¸ÎµÏ„ÎµÏ‚ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚
  "U":"U1", "U1":"U",
  "M":"M_1", "M_1":"M",
  "D":"D1", "D1":"D",
  "L":"L1", "L1":"L",
  "M1":"M1_1", "M1_1":"M1",
  "R":"R1", "R1":"R",
  "F":"F1", "F1":"F",
  "M2":"M2_1", "M2_1":"M2",
  "B":"B1", "B1":"B"
};

    
    const cluster = document.getElementById('cube-cluster'); // Ï„Î¿ cube-cluster Ï€Î¿Ï… Î¸Î± Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ ÏŒÎ»Î± Ï„Î± cubelets 
    let cubelets = [];   // Î Î¯Î½Î±ÎºÎ±Ï‚ Ï€Î¿Ï… Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ ÏŒÎ»Î± Ï„Î± Î¼Î¹ÎºÏÎ¬ ÎºÎ¿Î¼Î¼Î¬Ï„Î¹Î± Ï„Î¿Ï… ÎºÏÎ²Î¿Ï… 
    for (let y of layersY) {   // Î’ÏÏŒÏ‡Î¿Ï‚ 
      for (let x of positions) {     // Î’ÏÏŒÏ‡Î¿Ï‚ 
        for (let z of layersZ) {  // Î’ÏÏŒÏ‡Î¿Ï‚  
          let cubelet = document.createElement('a-entity');  // Î”Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Î­Î½Î± Î½Î­Î¿ entity 
          cubelet.setAttribute('gltf-model', model);  // ÎŸÏÎ¯Î¶ÎµÎ¹ Ï„Î¿ 3D Î¼Î¿Î½Ï„Î­Î»Î¿ Ï„Î¿Ï… cubelet 
          cubelet.setAttribute('position', `${x} ${y} ${z}`);   // Î˜Î­Ï„ÎµÎ¹ Ï„Î· Î¸Î­ÏƒÎ· Ï„Î¿Ï… cubelet ÏƒÏ„Î· ÏƒÎºÎ·Î½Î® 
          cubelet.setAttribute('scale', `${cubeSize} ${cubeSize} ${cubeSize}`);  // ÎŸÏÎ¯Î¶ÎµÎ¹ Ï„Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Ï„Î¿Ï… cubelet 
          cubelet.setAttribute('rotation', `0 0 0`);  // Î‘ÏÏ‡Î¹ÎºÎ® Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„Î¿Ï… cubelet 
          cubelet.setAttribute('data-x', x);  
          cubelet.setAttribute('data-y', y);  
          cubelet.setAttribute('data-z', z);   
          cluster.appendChild(cubelet);  //Î ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Ï„Î¿ cubelet Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ cube-cluster 
          cubelets.push(cubelet);   // Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ Ï„Î¿ cubelet ÏƒÏ„Î¿Î½ Ï€Î¯Î½Î±ÎºÎ± cubelets
        }
      }
    }
    let moveHistory = [];    // Î Î¯Î½Î±ÎºÎ±Ï‚ Ï€Î¿Ï… ÎºÏÎ±Ï„Î¬ Ï„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ¹Î½Î®ÏƒÎµÏ‰Î½ Ï„Î¿Ï… ÎºÏÎ²Î¿Ï… 

    
    function parseRotation(rot) {  // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… Î¼ÎµÏ„Î±Ï„ÏÎ­Ï€ÎµÎ¹ Î¼Î¹Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÎµ Î±Î½Ï„Î¹ÎºÎµÎ¯Î¼ÎµÎ½Î¿ 
      if (typeof rot === 'string') {   // Î•Î»Î­Î³Ï‡ÎµÎ¹ Î±Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î´ÏŒÎ¸Î·ÎºÎµ Ï‰Ï‚ string  
        let arr = rot.trim().split(/\s+/).map(Number);
        return {x: arr[0]||0, y: arr[1]||0, z: arr[2]||0};
      }
      return rot || {x:0, y:0, z:0};
    }

function rotateSlice(face, callback) {   // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ Î¼Î¹Î± ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î· ÏƒÏ„ÏÏÏƒÎ· Ï„Î¿Ï… ÎºÏÎ²Î¿Ï… 
  if (isRotating) return;   // Î‘Î½ Î®Î´Î· Î³Î¯Î½ÎµÏ„Î±Î¹ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î±Î¼Î±Ï„Î¬ÎµÎ¹
  if (callback !== "solve") moveHistory.push(face);   // Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ Ï„Î·Î½ ÎºÎ¯Î½Î·ÏƒÎ· ÏƒÏ„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎµÎºÏ„ÏŒÏ‚ Î±Î½ Ï€ÏÎ¿Î­ÏÏ‡ÎµÏ„Î±Î¹ Î±Ï€ÏŒ solve 
  isRotating = true;   

  const sliceDef = sliceDefs[face];  
  if (!sliceDef) {  //ÏƒÏ…Î½Î¸Î®ÎºÎ·
    isRotating = false; 
    return;  // Î¤ÎµÏÎ¼Î±Ï„Î¯Î¶ÎµÎ¹ Ï„Î· ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· 
  }

  const {center, match, axis, angle} = sliceDef;

  let affected = cubelets.filter(cubelet => {  // Î¦Î¹Î»Ï„ÏÎ¬ÏÎµÎ¹ Ï„Î± cubelets Î³Î¹Î± Î½Î± Î²ÏÎµÎ¹ Ï€Î¿Î¹Î± Î±Î½Î®ÎºÎ¿Ï…Î½ ÏƒÏ„Î· ÏƒÏ„ÏÏÏƒÎ· Ï€Î¿Ï… Î¸Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ±Ï†ÎµÎ¯
    const x = parseInt(cubelet.getAttribute('data-x')); 
    const y = parseInt(cubelet.getAttribute('data-y'));  
    const z = parseInt(cubelet.getAttribute('data-z'));  
    return match(x,y,z);   // Î•Ï€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ true Î±Î½ Ï„Î¿ cubelet Î±Î½Î®ÎºÎµÎ¹ ÏƒÏ„Î· ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î· ÏƒÏ„ÏÏÏƒÎ·
  });

  affected.forEach(cubelet => {   // Î•ÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î¹Ï‚ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ cubelet Ï€Î¿Ï… ÎµÏ€Î·ÏÎµÎ¬Î¶ÎµÏ„Î±Î¹ Î±Ï€ÏŒ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
    let pos = cubelet.getAttribute('position');   // Î Î±Î¯ÏÎ½ÎµÎ¹ Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± Î¸Î­ÏƒÎ· Ï„Î¿Ï… cubelet ÏƒÏ„Î· ÏƒÎºÎ·Î½Î® 
    let rot = parseRotation(cubelet.getAttribute('rotation'));   

    let rel = {  // Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· ÏƒÏ‡ÎµÏ„Î¹ÎºÎ® Î¸Î­ÏƒÎ· Ï„Î¿Ï… cubelet Ï‰Ï‚ Ï€ÏÎ¿Ï‚ Ï„Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®Ï‚
      x: pos.x - center[0],  // Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· ÏƒÏ„Î¿Î½ Î¬Î¾Î¿Î½Î± x Î±Ï€ÏŒ Ï„Î¿ ÎºÎ­Î½Ï„ÏÎ¿ Ï„Î·Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚
      y: pos.y - center[1],  //Î¤Î¿ Î¯Î´Î¹Î¿ Î³Î¹Î± y
      z: pos.z - center[2]  //Î¤Î¿ Î¯Î´Î¹Î¿ Î³Î¹Î± z
    };

    let rad = angle * Math.PI/180;    //Î· Î³Ï‰Î½Î¯Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®Ï‚ Î±Ï€ÏŒ Î¼Î¿Î¯ÏÎµÏ‚ ÏƒÎµ Î±ÎºÏ„Î¯Î½Î¹Î± 
    let newRel = {...rel};  

    if (axis === 'x') {  // Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î³Î¯Î½ÎµÏ„Î±Î¹ Î³ÏÏÏ‰ Î±Ï€ÏŒ Ï„Î¿Î½ Î¬Î¾Î¿Î½Î± x
      newRel.y = rel.y * Math.cos(rad) - rel.z * Math.sin(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· y Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
      newRel.z = rel.y * Math.sin(rad) + rel.z * Math.cos(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· z Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
    } else if (axis === 'y') {  // Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î³Î¯Î½ÎµÏ„Î±Î¹ Î³ÏÏÏ‰ Î±Ï€ÏŒ Ï„Î¿Î½ Î¬Î¾Î¿Î½Î± y
      newRel.x = rel.x * Math.cos(rad) - rel.z * Math.sin(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· x Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
      newRel.z = rel.x * Math.sin(rad) + rel.z * Math.cos(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· z Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
    } else if (axis === 'z') {  // Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î³Î¯Î½ÎµÏ„Î±Î¹ Î³ÏÏÏ‰ Î±Ï€ÏŒ Ï„Î¿Î½ Î¬Î¾Î¿Î½Î± z
      newRel.x = rel.x * Math.cos(rad) - rel.y * Math.sin(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· x Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
      newRel.y = rel.x * Math.sin(rad) + rel.y * Math.cos(rad);  //Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î· y Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
    }

    let newPos = {  // Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î· Î½Î­Î± Î¸Î­ÏƒÎ· Ï„Î¿Ï… cubelet Î¼ÎµÏ„Î¬ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
      x: center[0] + Math.round(newRel.x),  //ÎÎ­Î± x Î¸Î­ÏƒÎ·: ÎºÎ­Î½Ï„ÏÎ¿ ÏƒÏ„ÏÏÏƒÎ·Ï‚ + ÏƒÏ„ÏÎ¿Î³Î³Ï…Î»Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· ÏƒÏ‡ÎµÏ„Î¹ÎºÎ® Î¸Î­ÏƒÎ·
      y: center[1] + Math.round(newRel.y),  //Î¤Î¿ Î¯Î´Î¹Î¿ Î³Î¹Î± y
      z: center[2] + Math.round(newRel.z)  //Î¤Î¿ Î¯Î´Î¹Î¿ Î³Î¹Î± z
    };

    cubelet.setAttribute('animation__pos', {   // ÎœÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ· Ï„Î¿Ï… ÎºÏ…Î²Î¿Ï… ÏƒÏ„Î·Î½ Î½Î­Î± Î¸Î­ÏƒÎ· Î¼Îµ animation
      property: 'position',  // animation ÏƒÏ„Î· Î¸Î­ÏƒÎ· position
      to: `${newPos.x} ${newPos.y} ${newPos.z}`, // Î¤ÎµÎ»Î¹ÎºÎ® Î¸Î­ÏƒÎ· Ï„Î¿Ï… ÎºÏ…Î²Î±ÎºÎ¯Î¿Ï… (Î½Î­Î± Î¸Î­ÏƒÎ· x, Î½Î­Î± Î¸Î­ÏƒÎ· y,Î½Î­Î± Î¸Î­ÏƒÎ· z)
      dur: 300, // duration
      easing: 'easeInOutQuad' 
    });

    let newRot = {...rot};  // ÎºÎ¬Î½ÎµÎ¹ Î±Î½Ï„Î¯Î³ÏÎ±Ï†Î¿ 
    if (axis === 'x') newRot.x += angle;  // Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿Î½ Î¬Î¾Î¿Î½Î± x, Ï€ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Ï„Î· Î³Ï‰Î½Î¯Î± ÏƒÏ„Î¿ x
    if (axis === 'y') newRot.y += angle;  //Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿Î½ Î¬Î¾Î¿Î½Î± y, Ï€ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Ï„Î· Î³Ï‰Î½Î¯Î± ÏƒÏ„Î¿ y
    if (axis === 'z') newRot.z += angle;  //Î‘Î½ Î· Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿Î½ Î¬Î¾Î¿Î½Î± z, Ï€ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Ï„Î· Î³Ï‰Î½Î¯Î± ÏƒÏ„Î¿ z

    cubelet.setAttribute('animation__rot', {  //
      property: 'rotation',  // animation ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î®
      to: `${newRot.x} ${newRot.y} ${newRot.z}`,  //Î½Î­Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎºÎ¯Î½Î·ÏƒÎ·
      dur: 300,  //Î”Î¹Î¬ÏÎºÎµÎ¹Î± 
      easing: 'easeInOutQuad'  
    });

    setTimeout(() => {  //ÎµÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ ÎºÎ±Î¸Ï…ÏƒÏ„Î­ÏÎ·ÏƒÎ·.
      cubelet.setAttribute('position', `${newPos.x} ${newPos.y} ${newPos.z}`); // Î½Î­Î± Î¸Î­ÏƒÎ· Ï„Î¿Ï… cubelet 
      cubelet.setAttribute('rotation', `${newRot.x} ${newRot.y} ${newRot.z}`); //Î½Î­Î± Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„Î¿Ï… cubelet
      cubelet.setAttribute('data-x', newPos.x);  
      cubelet.setAttribute('data-y', newPos.y); 
      cubelet.setAttribute('data-z', newPos.z); 
      cubelet.removeAttribute('animation__pos');  //Î‘Ï†Î±Î¹ÏÎµÎ¯ Ï„Î¿ animation Ï„Î¿Ï… position
      cubelet.removeAttribute('animation__rot');  //Î‘Ï†Î±Î¹ÏÎµÎ¯ Ï„Î¿ animation tou rotation
    }, 650);  //diarkeia
  });

  setTimeout(() => {  //Î ÎµÏÎ¹Î¼Î­Î½ÎµÎ¹ Î½Î± Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¸Î¿ÏÎ½ ÏŒÎ»Î± Ï„Î± animations Ï„Î·Ï‚ ÏƒÏ„ÏÏÏƒÎ·Ï‚
    isRotating = false;  
    if (callback) callback();  //Î‘Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ callback,ÎºÎ±Î½ÎµÎ¹ callback
  }, 660);  //Î´Î¹Î¬ÏÎºÎµÎ¹Î±
}

    window.rotateSlice = rotateSlice;   // Î· rotateSlice Î³Î¯Î½ÎµÏ„Î±Î¹ global  
	
function shuffleCube(moves = 12) {  //Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… Î±Î½Î±ÎºÎ±Ï„ÎµÏÎµÎ¹ Ï„Î¿Î½ ÎºÏÎ²Î¿ Î¼Îµ Ï„Ï…Ï‡Î±Î¯ÎµÏ‚ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚
  const availableMoves = Object.keys(sliceDefs);  //Î Î±Î¯ÏÎ½ÎµÎ¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î´Ï…Î½Î±Ï„Î­Ï‚ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î¿ sliceDefs
  let count = 0;  //ÎœÎµÏ„ÏÎ¬ÎµÎ¹ Ï€ÏŒÏƒÎµÏ‚ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î­Ï‡Î¿Ï…Î½ ÎµÎºÏ„ÎµÎ»ÎµÏƒÏ„ÎµÎ¯

  function nextMove() { // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… ÎµÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Ï„Ï…Ï‡Î±Î¯Î± ÎºÎ¯Î½Î·ÏƒÎ· Ï„Î¿Ï… shuffle
    if (count >= moves) return;  //Î‘Î½ Î­Ï‡Î¿Ï…Î½ Î³Î¯Î½ÎµÎ¹ ÏŒÎ»ÎµÏ‚ Î¿Î¹ ÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î´Î·Î»Î±Î´Î® Î¿Î¹ 12, ÏƒÏ„Î±Î¼Î±Ï„Î¬
    let move = availableMoves[Math.floor(Math.random() * availableMoves.length)];  // ÎºÎ¬Î½ÎµÎ¹ Î¼Î¹Î± ÎºÎ¯Î½Î·ÏƒÎ· Î±Ï€ÏŒ Î±Ï…Ï„Î­Ïƒ Ï€Î¿Ï… Ï„Î¿Ï… Î­Ï‡Î¿Ï…Î¼Îµ Î´ÏÏƒÎµÎ¹
    rotateSlice(move, () => {  //Î•ÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î·Î½ ÎºÎ¯Î½Î·ÏƒÎ· 
      count++;  
      setTimeout(nextMove, 80);  //Î· ÎµÏ€ÏŒÎ¼ÎµÎ½Î· ÎºÎ¯Î½Î·ÏƒÎ· Î³Î¯Î½ÎµÏ„Î±Î¹ Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ 80ms
    });
  }

  nextMove();  //ÎÎµÎºÎ¹Î½Î¬ Ï„Î¿ shuffle
}

function solveCube() { //Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… Î»ÏÎ½ÎµÎ¹ Ï„Î¿Î½ ÎºÏÎ²Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ¹Î½Î®ÏƒÎµÏ‰Î½ 
  if (isRotating) return; 
  if (moveHistory.length === 0) return;  //Î‘Î½ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ Î³Î¯Î½ÎµÎ¹ ÎºÎ±Î¼Î¯Î± ÎºÎ¯Î½Î·ÏƒÎ·, Î´ÎµÎ½ Î³Î¯Î½ÎµÏ„Î¹ Ï„Î¯Ï€Î¿Ï„Î±

  function doNext() {  // ÎµÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î·Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î· Î±Î½Ï„Î¯Î¸ÎµÏ„Î· ÎºÎ¯Î½Î·ÏƒÎ·
    if (moveHistory.length === 0) return; 
    let last = moveHistory.pop();  // Î Î±Î¯ÏÎ½ÎµÎ¹ Ï„Î·Î½ Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎºÎ¯Î½Î·ÏƒÎ· Î±Ï€ÏŒ Ï„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ
    let reverseMove = oppositeMove[last];  //Î’ÏÎ¯ÏƒÎºÎµÎ¹ Ï„Î·Î½ Î±Î½Ï„Î¯Î¸ÎµÏ„Î· ÎºÎ¯Î½Î·ÏƒÎ· Î³Î¹Î± undo
    rotateSlice(reverseMove, "solve");  
    setTimeout(doNext, 700);  //Î— ÎµÏ€ÏŒÎ¼ÎµÎ½Î· ÎºÎ¹Î½Î·ÏƒÎ· ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹ Î¼ÎµÏ„Î¬ Î±Ï€Î¿ Ï‡ÏÏŒÎ½Î¿ 700
  }

  doNext();  // ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Ï‰Î½ Î±Î½Ï„Î¹Î¸Î­Ï„Ï‰Î½ ÎºÎ¹Î½Î®ÏƒÎµÏ‰Î½
}

function resetCube() {  //Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Ï€Î¿Ï… ÎµÏ€Î±Î½Î±Ï†Î­ÏÎµÎ¹ Ï„Î¿Î½ ÎºÏÎ²Î¿ ÏƒÏ„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® Ï„Î¿Ï… ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¼Î¿Î½Î¿Î¼Î¹Î¬Ï‚
  cubelets.forEach(c => {  //Î“Î¹Î± ÎºÎ¬Î¸Îµ cubelet ÏƒÏ„Î¿Î½ ÎºÏÎ²Î¿
    let x = parseInt(c.getAttribute('data-x'));  //Î Î±Î¯ÏÎ½ÎµÎ¹ Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± x ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î·
    let y = parseInt(c.getAttribute('data-y'));  //Î Î±Î¯ÏÎ½ÎµÎ¹ Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± y ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î·
    let z = parseInt(c.getAttribute('data-z'));  //Î Î±Î¯ÏÎ½ÎµÎ¹ Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± z ÏƒÏ…Î½Ï„ÎµÏ„Î±Î³Î¼Î­Î½Î·
    c.setAttribute('position', `${x} ${y} ${z}`);   
    c.setAttribute('rotation', `0 0 0`);  //Î˜Î­Ï„ÎµÎ¹ Ï„Î·Î½ Ï€ÎµÏÎ¹ÏƒÏ„ÏÎ¿Ï†Î® Ï„Î¿Ï… cubelet ÏƒÏ„Î¿ Î±ÏÏ‡Î¹ÎºÏŒ Î¼Î·Î´Î­Î½
  });
  moveHistory = [];  //ÎšÎ±Î¸Î±ÏÎ¯Î¶ÎµÎ¹ Ï„Î¿ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÎºÎ¹Î½Î®ÏƒÎµÏ‰Î½
}

    </script>
	
  </body>
</html>
